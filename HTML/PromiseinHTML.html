<!-- Create a simple html file to test
the REST services with JSON
Server using Promise - Create http_services.js file-->
<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Test Ajax services using promise</title>
    <style>
        .body{
            margin: auto;
        }
        div{
            border: 1px solid black;
            background-color: lightblue;
            padding: 50px;
            width: 80%;
            font-size: xx-large;
            margin-top: 50px;
        }
    </style>
    <script src="../JS/http_services.js"></script>
    </head>
    <body>
        <h1>Test Services rESULT</h1>
        <div id="get-services"></div>
        <div id="delete-services"></div>
        <div id="post-services"></div>
        <script>

        //Performing GET operation
        const getURL = "http://localhost:3000/employees/1";
        makePromiseCall("GET",getURL,true).then(responseText=>{
            document.querySelector("#get-services").textContent = "User data: "+responseText;
        }).catch(error=>{document.querySelector("#get-services").textContent = "GET Error status: "+JSON.stringify(error);});

        //Performing DeletE operation
        const delURL = "http://localhost:3000/employees/3";
        makePromiseCall("DELETE",delURL,false).then(responseText=>{
            document.querySelector("#delete-services").textContent = "Deleted data: "+responseText;
        }).catch(error=>{document.querySelector("#delete-services").textContent = "DELETE Error status:: "+JSON.stringify(error);})

        //Performing POST operation
        const postURL = "http://localhost:3000/employees";
        const empData = {"first_name":"Rakesh","last_name":"Kumar","salary":550000};
        makePromiseCall("POST",postURL,true,empData).then(responseText=>{
            document.querySelector("#post-services").textContent = "Added data: "+responseText;
        }).catch(error=>{document.querySelector("#post-services").textContent = "POST error status: "+JSON.stringify(error);})
        
        </script>
    </body>
    </html>
